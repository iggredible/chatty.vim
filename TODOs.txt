TODO: write docs
TODO: refactor
